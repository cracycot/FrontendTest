
# Документация по REST API для исторических зданий

**Адрес сервера**: `http://185.252.147.87`  
**Базовый путь (Base URL) для всех запросов**: `/api/buildings`

---

## 1. Общая информация

- **Формат данных**: JSON
- **Структура модели** `HistoricalBuilding` (пример полей):
  ```json
  {
    "id": 1,
    "name": "Красная площадь",
    "city": "Москва",
    "yearOfConstruction": 1400,
    "description": "Центральная площадь Москвы"
  }
  ```
  - `id` (Long) – уникальный идентификатор здания (генерируется автоматически при создании).
  - `name` (String) – название здания (обязательное поле).
  - `city` (String) – город, где находится здание.
  - `yearOfConstruction` (Integer) – год постройки.
  - `description` (String) – произвольное описание здания.

- **Типовые HTTP-коды**:
  - `200 OK` – успешная операция (например, получение списка или одного здания).
  - `201 CREATED` – ресурс создан успешно (POST).
  - `204 NO CONTENT` – удаление прошло успешно (DELETE).
  - `404 NOT FOUND` – ресурс не найден (неверный `id` или отсутствует в БД).
  - `400 BAD REQUEST` – неверные данные (зависит от валидации).
  - `500 INTERNAL SERVER ERROR` – внутренняя ошибка сервера (пр. проблемы с БД).

---

## 2. Список эндпойнтов

### 2.1 Получить все здания
- **Метод**: `GET`
- **URL**: `/api/buildings`
- **Описание**: Возвращает список всех исторических зданий в формате JSON.
- **Пример запроса**:
  ```
  GET http://185.252.147.87/api/buildings
  ```
- **Пример ответа** (`200 OK`):
  ```json
  [
    {
      "id": 1,
      "name": "Красная площадь",
      "city": "Москва",
      "yearOfConstruction": 1400,
      "description": "Центральная площадь Москвы"
    },
    {
      "id": 2,
      "name": "Эйфелева башня",
      "city": "Париж",
      "yearOfConstruction": 1889,
      "description": "Металлическая башня в центре Парижа"
    }
  ]
  ```

---

### 2.2 Добавить новое здание
- **Метод**: `POST`
- **URL**: `/api/buildings`
- **Тело запроса (Request Body)**: JSON-объект с полями здания (без `id`, т.к. оно генерируется автоматически).
- **Описание**: Создает новую запись о здании и возвращает созданный объект с присвоенным `id`.
- **Пример запроса**:
  ```
  POST http://185.252.147.87/api/buildings
  Content-Type: application/json

  {
    "name": "Колизей",
    "city": "Рим",
    "yearOfConstruction": 80,
    "description": "Амфитеатр в Риме"
  }
  ```
- **Пример ответа** (`201 CREATED`):
  ```json
  {
    "id": 5,
    "name": "Колизей",
    "city": "Рим",
    "yearOfConstruction": 80,
    "description": "Амфитеатр в Риме"
  }
  ```

---

### 2.3 Получить здание по ID
- **Метод**: `GET`
- **URL**: `/api/buildings/{id}`
- **Описание**: Возвращает данные о конкретном здании по его `id`.
- **Пример запроса**:
  ```
  GET http://185.252.147.87/api/buildings/5
  ```
- **Пример ответа** (`200 OK`):
  ```json
  {
    "id": 5,
    "name": "Колизей",
    "city": "Рим",
    "yearOfConstruction": 80,
    "description": "Амфитеатр в Риме"
  }
  ```
- **Ответ при отсутствии ресурса** (`404 NOT FOUND`):
  ```json
  {
    "timestamp": "...",
    "status": 404,
    "error": "Not Found",
    "path": "/api/buildings/9999"
  }
  ```

---

### 2.4 Обновить здание по ID
- **Метод**: `PUT`
- **URL**: `/api/buildings/{id}`
- **Тело запроса**: JSON-объект с полями для обновления (`name`, `city`, `yearOfConstruction`, `description`).
- **Описание**: Находит здание по `id`, обновляет указанные поля и возвращает обновлённый объект.
- **Пример запроса**:
  ```
  PUT http://185.252.147.87/api/buildings/5
  Content-Type: application/json

  {
    "name": "Колизей (обновленный)",
    "city": "Рим",
    "yearOfConstruction": 81,
    "description": "Измененное описание"
  }
  ```
- **Пример ответа** (`200 OK`):
  ```json
  {
    "id": 5,
    "name": "Колизей (обновленный)",
    "city": "Рим",
    "yearOfConstruction": 81,
    "description": "Измененное описание"
  }
  ```
- **Ответ при отсутствии ресурса** (`404 NOT FOUND`):
  ```json
  {
    "timestamp": "...",
    "status": 404,
    "error": "Not Found",
    "path": "/api/buildings/9999"
  }
  ```

---

### 2.5 Удалить здание по ID
- **Метод**: `DELETE`
- **URL**: `/api/buildings/{id}`
- **Описание**: Удаляет здание по заданному `id`.
- **Пример запроса**:
  ```
  DELETE http://185.252.147.87/api/buildings/5
  ```
- **Пример успешного ответа** (`204 NO CONTENT`):  
  *(Ответ без тела)*

- **Ответ при отсутствии ресурса** (`404 NOT FOUND`):
  ```json
  {
    "timestamp": "...",
    "status": 404,
    "error": "Not Found",
    "path": "/api/buildings/9999"
  }
  ```

---

## 3. Дополнительные замечания

1. **Типичные ошибки при запросах**:
   - Отсутствуют необходимые поля при `POST` или `PUT`.
   - Неправильные типы данных (например, строка вместо числа).
   - Невалидные `id` (например, `id` несуществующего здания).

2. **Версия API**  
   Текущие эндпойнты не указывают версию в URL. При необходимости можно использовать префикс: `/api/v1/buildings`.

3. **Статус безопасности**  
   Если включена аутентификация/авторизация, будут дополнительные заголовки (например, Authorization) или иные механизмы защиты.

4. **Примеры cURL-запросов**:
   ```bash
   # Получить все здания
   curl -X GET http://185.252.147.87/api/buildings

   # Добавить здание
   curl -X POST http://185.252.147.87/api/buildings         -H "Content-Type: application/json"         -d '{
              "name": "Колизей",
              "city": "Рим",
              "yearOfConstruction": 80,
              "description": "Амфитеатр в Риме"
            }'
   ```

---
